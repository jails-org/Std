(function(o,c){typeof exports=="object"&&typeof module!="undefined"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(o=typeof globalThis!="undefined"?globalThis:o||self,c(o.store={}))})(this,function(o){"use strict";function c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d={exports:{}},E=d.exports,b;function M(){return b||(b=1,function(e,J){(function(h,l){e.exports=l()})(E,()=>(()=>{var h={};return(()=>{var l=h;Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(t,g){var p=[],y=new Set,f=q(t),m=function(){return f},j=function(n){if(n.call)return y.add(n),function(){y.delete(n)}},S=function(n,r){return p.push({action:n,payload:r}),new Promise(function(i){return O(function(u){return N({action:n,payload:r},i)})})},x=function(n){return new Promise(function(r){j(function(i,u){var s=u.action,a=u.payload;s in n&&O(function(v){n[s].call(null,i,{action:s,payload:a}),r(i)})})})},N=function(n,r){var i=n.action,u=n.payload,s=u===void 0?{}:u;p.forEach(function(a){var v=a.action,w=a.payload,T=w===void 0?{}:w;if(v in g){var F=g[v].call(null,f,T,{getState:m,subscribe:j,dispatch:S,patternMatch:x});Object.assign(f,F)}else console.log("[Oni] Error -> No action [ ".concat(v," ] found."))}),p.length&&(y.forEach(function(a){return a(f,{action:i,payload:s})}),p=[]),r(f)};return{getState:m,subscribe:j,dispatch:S,patternMatch:x,destroy:function(){return y.clear()}}};var q=function(t){return JSON.parse(JSON.stringify(t))},O=typeof window=="undefined"?function(t){return t()}:function(t){return requestAnimationFrame(t)}})(),h})())}(d)),d.exports}var P=M();const _=c(P);o.Store=_,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
