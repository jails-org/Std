(function(r,a){typeof exports=="object"&&typeof module!="undefined"?a(exports):typeof define=="function"&&define.amd?define(["exports"],a):(r=typeof globalThis!="undefined"?globalThis:r||self,a(r.store={}))})(this,function(r){"use strict";function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f={exports:{}},w=f.exports,b;function E(){return b||(b=1,function(e,J){(function(y,s){e.exports=s()})(w,()=>(()=>{var y={};return(()=>{var s=y;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(t,O){var d=[],l=new Set,c=_(t),g=function(){return c},v=function(n){if(n.call)return l.add(n),function(){l.delete(n)}},S=function(n,i){return d.push({action:n,payload:i}),new Promise(function(u){return q(function(o){return N({action:n,payload:i},u)})})},m=function(n){v(function(i,u){var o=u.action,h=u.payload;o in n&&n[o].call(null,i,{action:o,payload:h})})},N=function(n,i){var u=n.action,o=n.payload,h=o===void 0?{}:o;d.forEach(function(p){var j=p.action,x=p.payload,T=x===void 0?{}:x;if(j in O){var F=O[j].call(null,c,T,{getState:g,subscribe:v,dispatch:S,patternMatch:m});Object.assign(c,F)}else console.log("[Oni] Error -> No action [ ".concat(j," ] found."))}),d.length&&(l.forEach(function(p){return p(c,{action:u,payload:h})}),d=[]),i(c)};return{getState:g,subscribe:v,dispatch:S,patternMatch:m,destroy:function(){return l.clear()}}};var _=function(t){return JSON.parse(JSON.stringify(t))},q=typeof window=="undefined"?function(t){return t()}:function(t){return requestAnimationFrame(t)}})(),y})())}(f)),f.exports}var M=E();const P=a(M);r.Store=P,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
